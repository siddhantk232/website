<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="https://gongzhitaao.org/orgcss/org.css"/>
</head>
<body>
<div id="content" class="content">
<ol class="org-ol">
<li><p>
WAP to perform operations on Arrays
</p>

<div class="org-src-container">
<pre class="src src-C"><span class="org-preprocessor">#include</span> <span class="org-string">&lt;stdio.h&gt;</span>

<span class="org-type">int</span> <span class="org-function-name">main</span>() {
    <span class="org-type">int</span> <span class="org-variable-name">arr</span>[] = {1, 9, 3, 5, 2, 0, -1};
    <span class="org-type">int</span> <span class="org-variable-name">size</span> = <span class="org-keyword">sizeof</span>(arr) / <span class="org-keyword">sizeof</span>(<span class="org-type">int</span>);

    <span class="org-comment-delimiter">// </span><span class="org-comment">traversing array</span>
    printf(<span class="org-string">"array elements: "</span>);
    <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span> = 0; i &lt; size; ++i) printf(<span class="org-string">"%d "</span>, arr[i]);
    printf(<span class="org-string">"\n"</span>);

    <span class="org-comment-delimiter">// </span><span class="org-comment">min. and max in array</span>
    <span class="org-type">int</span> <span class="org-variable-name">min</span> = arr[0];
    <span class="org-type">int</span> <span class="org-variable-name">max</span> = arr[0];

    <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span> = 0; i &lt; size; ++i) {
        <span class="org-keyword">if</span> (arr[i] &gt; max) max = arr[i];
        <span class="org-keyword">if</span> (arr[i] &lt; min) min = arr[i];
    }

    printf(<span class="org-string">"max. element: %d\n"</span>, max);
    printf(<span class="org-string">"min. element: %d\n"</span>, min);

    <span class="org-comment-delimiter">// </span><span class="org-comment">linear search</span>
    <span class="org-type">int</span> <span class="org-variable-name">target</span> = 9;
    <span class="org-type">int</span> <span class="org-variable-name">found_index</span> = -1;

    <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span> = 0; i &lt; size; ++i) {
        <span class="org-keyword">if</span> (arr[i] == target) {
            found_index = i;
            <span class="org-keyword">break</span>;
        }
    }

    <span class="org-keyword">if</span> (found_index != -1)
        printf(<span class="org-string">"found %d at index %d\n"</span>, target, found_index);
    <span class="org-keyword">else</span> printf(<span class="org-string">"ERROR: couldn't find %d in array\n"</span>, target);

    <span class="org-comment-delimiter">// </span><span class="org-comment">sort array elements in ascending order</span>
    <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">pass</span> = 0; pass &lt; (size - 1); pass++) {
        <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">j</span> = 0; j &lt; size - 1 - pass; ++j) {
            <span class="org-keyword">if</span> (arr[j] &gt; arr[j + 1]) {
                <span class="org-type">int</span> <span class="org-variable-name">temp</span> = arr[j];
                arr[j] = arr[j + 1];
                arr[j + 1] = temp;
            }
        }
    }

    <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span> = 0; i &lt; size; ++i) printf(<span class="org-string">"%d "</span>, arr[i]);
    printf(<span class="org-string">"\n"</span>);

}
</pre>
</div>

<pre class="example">
array elements: 1 9 3 5 2 0 -1 
max. element: 9
min. element: -1
found 9 at index 1
-1 0 1 2 3 5 9
</pre></li>

<li><p>
WAP to implement FCFS scheduling algorithm.
</p>

<div class="org-src-container">
<pre class="src src-C"><span class="org-preprocessor">#include</span><span class="org-string">&lt;stdio.h&gt;</span>

<span class="org-type">void</span> <span class="org-function-name">findWaitingTime</span>(<span class="org-type">int</span> <span class="org-variable-name">processes</span>[], <span class="org-type">int</span> <span class="org-variable-name">n</span>, <span class="org-type">int</span> <span class="org-variable-name">bt</span>[], <span class="org-type">int</span> <span class="org-variable-name">wt</span>[]) {
    wt[0] = 0;

    <span class="org-keyword">for</span> (<span class="org-type">int</span>  <span class="org-variable-name">i</span> = 1; i &lt; n ; i++ )
        wt[i] =  bt[i-1] + wt[i-1] ;
}

<span class="org-type">void</span> <span class="org-function-name">findTurnAroundTime</span>( <span class="org-type">int</span> <span class="org-variable-name">processes</span>[], <span class="org-type">int</span> <span class="org-variable-name">n</span>, <span class="org-type">int</span> <span class="org-variable-name">bt</span>[], <span class="org-type">int</span> <span class="org-variable-name">wt</span>[], <span class="org-type">int</span> <span class="org-variable-name">tat</span>[]) {
    <span class="org-keyword">for</span> (<span class="org-type">int</span>  <span class="org-variable-name">i</span> = 0; i &lt; n ; i++)
        tat[i] = bt[i] + wt[i];
}

<span class="org-type">void</span> <span class="org-function-name">findavgTime</span>( <span class="org-type">int</span> <span class="org-variable-name">processes</span>[], <span class="org-type">int</span> <span class="org-variable-name">n</span>, <span class="org-type">int</span> <span class="org-variable-name">bt</span>[]) {
    <span class="org-type">int</span> <span class="org-variable-name">wt</span>[n], <span class="org-variable-name">tat</span>[n], <span class="org-variable-name">total_wt</span> = 0, <span class="org-variable-name">total_tat</span> = 0;

    findWaitingTime(processes, n, bt, wt);

    findTurnAroundTime(processes, n, bt, wt, tat);

    printf(<span class="org-string">"Processes   Burst time   Waiting time   Turn around time\n"</span>);

    <span class="org-keyword">for</span> (<span class="org-type">int</span>  <span class="org-variable-name">i</span>=0; i&lt;n; i++) {
        total_wt = total_wt + wt[i];
        total_tat = total_tat + tat[i];
        printf(<span class="org-string">"   %d "</span>,(i+1));
        printf(<span class="org-string">"       %d "</span>, bt[i] );
        printf(<span class="org-string">"       %d"</span>,wt[i] );
        printf(<span class="org-string">"       %d\n"</span>,tat[i] );
    }

    <span class="org-type">int</span> <span class="org-variable-name">s</span>=(<span class="org-type">float</span>)total_wt / (<span class="org-type">float</span>)n;
    <span class="org-type">int</span> <span class="org-variable-name">t</span>=(<span class="org-type">float</span>)total_tat / (<span class="org-type">float</span>)n;

    printf(<span class="org-string">"Average waiting time = %d"</span>,s);
    printf(<span class="org-string">"\n"</span>);
    printf(<span class="org-string">"Average turn around time = %d "</span>,t);
}

<span class="org-type">int</span> <span class="org-function-name">main</span>() {
    <span class="org-type">int</span> <span class="org-variable-name">processes</span>[] = { 1, 2, 3};
    <span class="org-type">int</span> <span class="org-variable-name">n</span> = <span class="org-keyword">sizeof</span> processes / <span class="org-keyword">sizeof</span> processes[0];

    <span class="org-type">int</span>  <span class="org-variable-name">burst_time</span>[] = {10, 5, 8};

    findavgTime(processes, n,  burst_time);
    <span class="org-keyword">return</span> 0;
}
</pre>
</div>

<pre class="example">
Processes   Burst time   Waiting time   Turn around time
   1        10        0       10
   2        5        10       15
   3        8        15       23
Average waiting time = 8
Average turn around time = 16 
</pre></li>

<li><p>
WAP to implement SJF scheduling algorithm.
</p>

<div class="org-src-container">
<pre class="src src-C"><span class="org-preprocessor">#include</span><span class="org-string">&lt;stdio.h&gt;</span>

<span class="org-type">int</span> <span class="org-function-name">main</span>() {
    <span class="org-type">int</span> <span class="org-variable-name">sum_burst_time</span> = 0, <span class="org-variable-name">smallest</span>;
    <span class="org-type">int</span> <span class="org-variable-name">sumt</span> = 0, <span class="org-variable-name">sumw</span> = 0;

    <span class="org-comment-delimiter">// </span><span class="org-comment">no. of processes</span>
    <span class="org-type">int</span> <span class="org-variable-name">n</span> = 5;
    <span class="org-type">int</span> <span class="org-variable-name">at</span>[10] = {2, 5, 1, 0, 4};
    <span class="org-type">int</span> <span class="org-variable-name">burst_time</span>[10] = {6, 2, 8, 3, 4};

    <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span> = 0; i &lt; n; ++i) sum_burst_time += burst_time[i];

    burst_time[9] = 9999;

    <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">time</span> = 0; time &lt; sum_burst_time;) {
        smallest = 9;
        <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span> = 0; i &lt; n; i++) {
            <span class="org-keyword">if</span> (at[i] &lt;= time &amp;&amp; burst_time[i] &gt; 0 &amp;&amp;
                 burst_time[i] &lt; burst_time[smallest])
                smallest = i;
        }
        printf(<span class="org-string">"P[%d]\t|\t%d\t|\t%d\n"</span>,
               smallest + 1,
               time + burst_time[smallest] - at[smallest],
               time - at[smallest]);
        sumt += time + burst_time[smallest] - at[smallest];
        sumw += time - at[smallest];
        time += burst_time[smallest];
        burst_time[smallest] = 0;
    }

    printf(<span class="org-string">"\n\n average waiting time = %.2f"</span>, sumw * 1.0 / n);
    printf(<span class="org-string">"\n\n average turnaround time = %.2f"</span>, sumt * 1.0 / n);
    <span class="org-keyword">return</span> 0;
}
</pre>
</div>

<pre class="example" id="orgaefb8b0">
P[4]	|	3	|	0
P[1]	|	7	|	1
P[2]	|	6	|	4
P[5]	|	11	|	7
P[3]	|	22	|	14


 average waiting time = 5.20

 average turnaround time = 9.80
</pre></li>

<li><p>
WAP to implement Round Robin scheduling algorithm.
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-preprocessor">#include</span><span class="org-string">&lt;iostream&gt;</span>

<span class="org-keyword">using</span> <span class="org-keyword">namespace</span> <span class="org-constant">std</span>;

<span class="org-type">void</span> <span class="org-function-name">findWaitingTime</span>(<span class="org-type">int</span> <span class="org-variable-name">processes</span>[], <span class="org-type">int</span> <span class="org-variable-name">n</span>, <span class="org-type">int</span> <span class="org-variable-name">bt</span>[], <span class="org-type">int</span> <span class="org-variable-name">wt</span>[], <span class="org-type">int</span> <span class="org-variable-name">quantum</span>) {
    <span class="org-type">int</span> <span class="org-variable-name">rem_bt</span>[n];
    <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span> = 0 ; i &lt; n ; i++)
        rem_bt[i] = bt[i];

    <span class="org-type">int</span> <span class="org-variable-name">t</span> = 0; <span class="org-comment-delimiter">// </span><span class="org-comment">Current time</span>

    <span class="org-keyword">while</span> (1) {
        <span class="org-type">bool</span> <span class="org-variable-name">done</span> = <span class="org-constant">true</span>;

        <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span> = 0 ; i &lt; n; i++) {
            <span class="org-keyword">if</span> (rem_bt[i] &gt; 0) {
                done = <span class="org-constant">false</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">There is a pending process</span>

                <span class="org-keyword">if</span> (rem_bt[i] &gt; quantum) {
                    t += quantum;
                    rem_bt[i] -= quantum;
                } <span class="org-keyword">else</span> {
                    t = t + rem_bt[i];
                    wt[i] = t - bt[i];
                    rem_bt[i] = 0;
                }
            }
        }
        <span class="org-keyword">if</span> (done == <span class="org-constant">true</span>) <span class="org-keyword">break</span>;
    }
}

<span class="org-type">void</span> <span class="org-function-name">findTurnAroundTime</span>(<span class="org-type">int</span> <span class="org-variable-name">processes</span>[], <span class="org-type">int</span> <span class="org-variable-name">n</span>, <span class="org-type">int</span> <span class="org-variable-name">bt</span>[], <span class="org-type">int</span> <span class="org-variable-name">wt</span>[], <span class="org-type">int</span> <span class="org-variable-name">tat</span>[]) {
    <span class="org-comment-delimiter">// </span><span class="org-comment">bt[i] + wt[i]</span>
    <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span> = 0; i &lt; n ; i++) tat[i] = bt[i] + wt[i];
}

<span class="org-type">void</span> <span class="org-function-name">findavgTime</span>(<span class="org-type">int</span> <span class="org-variable-name">processes</span>[], <span class="org-type">int</span> <span class="org-variable-name">n</span>, <span class="org-type">int</span> <span class="org-variable-name">bt</span>[], <span class="org-type">int</span> <span class="org-variable-name">quantum</span>) {
    <span class="org-type">int</span> <span class="org-variable-name">wt</span>[n], <span class="org-variable-name">tat</span>[n], <span class="org-variable-name">total_wt</span> = 0, <span class="org-variable-name">total_tat</span> = 0;

    findWaitingTime(processes, n, bt, wt, quantum);
    findTurnAroundTime(processes, n, bt, wt, tat);

    cout &lt;&lt; <span class="org-string">"PN\t "</span>&lt;&lt; <span class="org-string">" \tBT "</span>
         &lt;&lt; <span class="org-string">"  WT "</span> &lt;&lt; <span class="org-string">" \tTAT\n"</span>;

    <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span>=0; i&lt;n; i++) {
        total_wt = total_wt + wt[i];
        total_tat = total_tat + tat[i];
        cout &lt;&lt; <span class="org-string">" "</span> &lt;&lt; i+1 &lt;&lt; <span class="org-string">"\t\t"</span> &lt;&lt; bt[i] &lt;&lt;<span class="org-string">"\t "</span>
             &lt;&lt; wt[i] &lt;&lt;<span class="org-string">"\t\t "</span> &lt;&lt; tat[i] &lt;&lt;endl;
    }

    cout &lt;&lt; <span class="org-string">"Average waiting time = "</span>
         &lt;&lt; (<span class="org-type">float</span>)total_wt / (<span class="org-type">float</span>)n;
    cout &lt;&lt; <span class="org-string">"\nAverage turn around time = "</span>
         &lt;&lt; (<span class="org-type">float</span>)total_tat / (<span class="org-type">float</span>)n;
}

<span class="org-type">int</span> <span class="org-function-name">main</span>() {
    <span class="org-type">int</span> <span class="org-variable-name">processes</span>[] = { 1, 2, 3};
    <span class="org-type">int</span> <span class="org-variable-name">n</span> = <span class="org-keyword">sizeof</span> processes / <span class="org-keyword">sizeof</span> processes[0];
    <span class="org-type">int</span> <span class="org-variable-name">burst_time</span>[] = {10, 5, 8};
    <span class="org-type">int</span> <span class="org-variable-name">quantum</span> = 2;

    findavgTime(processes, n, burst_time, quantum);
    <span class="org-keyword">return</span> 0;
}
</pre>
</div>

<pre class="example">
PN	  	BT   WT  	TAT
 1		10	 13		 23
 2		5	 10		 15
 3		8	 13		 21
Average waiting time = 12
Average turn around time = 19.6667
</pre></li>

<li><p>
WAP to implement Priority Scheduling algorithm.
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-preprocessor">#include</span> <span class="org-string">&lt;algorithm&gt;</span>
<span class="org-preprocessor">#include</span> <span class="org-string">&lt;iostream&gt;</span>

<span class="org-keyword">using</span> <span class="org-keyword">namespace</span> <span class="org-constant">std</span>;

<span class="org-keyword">struct</span> <span class="org-type">Process</span> {
        <span class="org-type">int</span> <span class="org-variable-name">pid</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">Process ID</span>
        <span class="org-type">int</span> <span class="org-variable-name">bt</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">CPU Burst time required</span>
        <span class="org-type">int</span> <span class="org-variable-name">priority</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">Priority of this process</span>
};

<span class="org-type">bool</span> <span class="org-function-name">comparison</span>(<span class="org-type">Process</span> <span class="org-variable-name">a</span>, <span class="org-type">Process</span> <span class="org-variable-name">b</span>) {
        <span class="org-keyword">return</span> (a.priority &gt; b.priority);
}

<span class="org-type">void</span> <span class="org-function-name">findWaitingTime</span>(<span class="org-type">Process</span> <span class="org-variable-name">proc</span>[], <span class="org-type">int</span> <span class="org-variable-name">n</span>, <span class="org-type">int</span> <span class="org-variable-name">wt</span>[]) {
        wt[0] = 0;
        <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span> = 1; i &lt; n; i++)
                wt[i] = proc[i - 1].bt + wt[i - 1];
}

<span class="org-type">void</span> <span class="org-function-name">findTurnAroundTime</span>(<span class="org-type">Process</span> <span class="org-variable-name">proc</span>[], <span class="org-type">int</span> <span class="org-variable-name">n</span>, <span class="org-type">int</span> <span class="org-variable-name">wt</span>[], <span class="org-type">int</span> <span class="org-variable-name">tat</span>[]) {
        <span class="org-comment-delimiter">// </span><span class="org-comment">bt[i] + wt[i]</span>
        <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span> = 0; i &lt; n; i++)
                tat[i] = proc[i].bt + wt[i];
}

<span class="org-type">void</span> <span class="org-function-name">findavgTime</span>(<span class="org-type">Process</span> <span class="org-variable-name">proc</span>[], <span class="org-type">int</span> <span class="org-variable-name">n</span>) {
        <span class="org-type">int</span> <span class="org-variable-name">wt</span>[n], <span class="org-variable-name">tat</span>[n], <span class="org-variable-name">total_wt</span> = 0, <span class="org-variable-name">total_tat</span> = 0;

        findWaitingTime(proc, n, wt);

        findTurnAroundTime(proc, n, wt, tat);

        cout &lt;&lt; <span class="org-string">"\nProcesses "</span>
                &lt;&lt; <span class="org-string">" Burst time "</span>
                &lt;&lt; <span class="org-string">" Waiting time "</span>
                &lt;&lt; <span class="org-string">" Turn around time\n"</span>;

        <span class="org-comment-delimiter">// </span><span class="org-comment">Calculate total waiting time and total turn</span>
        <span class="org-comment-delimiter">// </span><span class="org-comment">around time</span>
        <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span> = 0; i &lt; n; i++) {
                total_wt = total_wt + wt[i];
                total_tat = total_tat + tat[i];
                cout &lt;&lt; <span class="org-string">" "</span> &lt;&lt; proc[i].pid &lt;&lt; <span class="org-string">"\t\t"</span> &lt;&lt; proc[i].bt
                        &lt;&lt; <span class="org-string">"\t "</span> &lt;&lt; wt[i] &lt;&lt; <span class="org-string">"\t\t "</span> &lt;&lt; tat[i]
                        &lt;&lt; endl;
        }

        cout &lt;&lt; <span class="org-string">"\nAverage waiting time = "</span>
                &lt;&lt; (<span class="org-type">float</span>)total_wt / (<span class="org-type">float</span>)n;
        cout &lt;&lt; <span class="org-string">"\nAverage turn around time = "</span>
                &lt;&lt; (<span class="org-type">float</span>)total_tat / (<span class="org-type">float</span>)n;
}

<span class="org-type">void</span> <span class="org-function-name">priorityScheduling</span>(<span class="org-type">Process</span> <span class="org-variable-name">proc</span>[], <span class="org-type">int</span> <span class="org-variable-name">n</span>) {
        <span class="org-comment-delimiter">// </span><span class="org-comment">Sort processes by priority</span>
        sort(proc, proc + n, comparison);

        cout &lt;&lt; <span class="org-string">"Order in which processes gets executed \n"</span>;
        <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span> = 0; i &lt; n; i++)
                cout &lt;&lt; proc[i].pid &lt;&lt; <span class="org-string">" "</span>;

        findavgTime(proc, n);
}

<span class="org-type">int</span> <span class="org-function-name">main</span>() {
        <span class="org-type">Process</span> <span class="org-variable-name">proc</span>[]
                = { { 1, 10, 2 }, { 2, 5, 0 }, { 3, 8, 1 } };
        <span class="org-type">int</span> <span class="org-variable-name">n</span> = <span class="org-keyword">sizeof</span> proc / <span class="org-keyword">sizeof</span> proc[0];
        priorityScheduling(proc, n);
        <span class="org-keyword">return</span> 0;
}

</pre>
</div></li>

<li><p>
WAP to implement FIFO page replacement algorithm.
</p>

<div class="org-src-container">
<pre class="src src-C"><span class="org-preprocessor">#include</span> <span class="org-string">&lt;stdio.h&gt;</span>

<span class="org-type">void</span> <span class="org-function-name">fifo</span>(<span class="org-type">int</span> <span class="org-variable-name">string</span>[20], <span class="org-type">int</span> <span class="org-variable-name">n</span>, <span class="org-type">int</span> <span class="org-variable-name">size</span>) {
    <span class="org-type">int</span> <span class="org-variable-name">frames</span>[n];
    <span class="org-comment-delimiter">// </span><span class="org-comment">Initializing each block with -1</span>
    <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span> = 0; i &lt; n; i++)
        frames[i] = -1;

    <span class="org-type">int</span> <span class="org-variable-name">index</span> = -1;
    <span class="org-type">int</span> <span class="org-variable-name">page_miss</span> = 0;
    <span class="org-type">int</span> <span class="org-variable-name">page_hits</span> = 0;

    <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span> = 0; i &lt; size; i++) {
        <span class="org-type">int</span> <span class="org-variable-name">symbol</span> = string[i];
        <span class="org-type">int</span> <span class="org-variable-name">flag</span> = 0;

        <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">j</span> = 0; j &lt; n; j++) {
            <span class="org-keyword">if</span> (symbol == frames[j]) {
                flag = 1;
                <span class="org-keyword">break</span>;
            }
        }

        <span class="org-keyword">if</span> (flag == 1) {
            printf(<span class="org-string">"\nSymbol: %d  Frame: "</span>, symbol);
            <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">j</span> = 0; j &lt; n; j++)
                printf(<span class="org-string">"%d "</span>, frames[j]);
            page_hits += 1;
        } <span class="org-keyword">else</span> {
            index = (index + 1) % n;
            frames[index] = symbol;
            page_miss += 1;
            printf(<span class="org-string">"\nSymbol: %d  Frame: "</span>, symbol);
            <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">j</span> = 0; j &lt; n; j++)
                printf(<span class="org-string">"%d "</span>, frames[j]);
        }
    }

    printf(<span class="org-string">"\nPage hits: %d"</span>, page_hits);
    printf(<span class="org-string">"\nPage misses: %d"</span>, page_miss);
}

<span class="org-type">int</span> <span class="org-function-name">main</span>(<span class="org-type">void</span>) {
    <span class="org-type">int</span> <span class="org-variable-name">string</span>[] = {7, 0, 1, 2, 0, 3, 0, 4, 2, 3, 0, 3, 2, 1, 2, 0, 1, 7, 0, 1};
    <span class="org-type">int</span> <span class="org-variable-name">no_frames</span> = 3;
    <span class="org-type">int</span> <span class="org-variable-name">size</span> = <span class="org-keyword">sizeof</span>(string) / <span class="org-keyword">sizeof</span>(<span class="org-type">int</span>);
    fifo(string, no_frames, size);
    <span class="org-keyword">return</span> 0;
}
</pre>
</div>

<pre class="example" id="org98556c0">

Symbol: 7  Frame: 7 -1 -1 
Symbol: 0  Frame: 7 0 -1 
Symbol: 1  Frame: 7 0 1 
Symbol: 2  Frame: 2 0 1 
Symbol: 0  Frame: 2 0 1 
Symbol: 3  Frame: 2 3 1 
Symbol: 0  Frame: 2 3 0 
Symbol: 4  Frame: 4 3 0 
Symbol: 2  Frame: 4 2 0 
Symbol: 3  Frame: 4 2 3 
Symbol: 0  Frame: 0 2 3 
Symbol: 3  Frame: 0 2 3 
Symbol: 2  Frame: 0 2 3 
Symbol: 1  Frame: 0 1 3 
Symbol: 2  Frame: 0 1 2 
Symbol: 0  Frame: 0 1 2 
Symbol: 1  Frame: 0 1 2 
Symbol: 7  Frame: 7 1 2 
Symbol: 0  Frame: 7 0 2 
Symbol: 1  Frame: 7 0 1 
Page hits: 5
Page misses: 15
</pre></li>

<li><p>
WAP to implement LRU page replacement algorithm.
</p>

<div class="org-src-container">
<pre class="src src-C"><span class="org-preprocessor">#include</span> <span class="org-string">&lt;stdio.h&gt;</span>

<span class="org-type">void</span> <span class="org-function-name">lru</span>(<span class="org-type">int</span> <span class="org-variable-name">string</span>[20], <span class="org-type">int</span> <span class="org-variable-name">n</span>, <span class="org-type">int</span> <span class="org-variable-name">size</span>) {
    <span class="org-type">int</span> <span class="org-variable-name">frames</span>[n];
    <span class="org-comment-delimiter">// </span><span class="org-comment">Initializing each block with -1</span>
    <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span> = 0; i &lt; n; i++)
        frames[i] = -1;

    <span class="org-type">int</span> <span class="org-variable-name">index</span> = -1;
    <span class="org-type">int</span> <span class="org-variable-name">page_miss</span> = 0;
    <span class="org-type">int</span> <span class="org-variable-name">page_hits</span> = 0;

    <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span> = 0; i &lt; size; i++) {
        <span class="org-type">int</span> <span class="org-variable-name">symbol</span> = string[i];
        <span class="org-type">int</span> <span class="org-variable-name">flag</span> = 0;
        <span class="org-type">int</span> <span class="org-variable-name">full</span> = 0;

        <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">j</span> = 0; j &lt; n; j++) {
            <span class="org-keyword">if</span> (symbol == frames[j]) {
                flag = 1;
                <span class="org-keyword">break</span>;
            }
        }

        <span class="org-keyword">if</span> (flag == 1) {
            printf(<span class="org-string">"\nSymbol: %d  Frame: "</span>, symbol);
            <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">j</span> = 0; j &lt; n; j++)
                printf(<span class="org-string">"%d "</span>, frames[j]);
            page_hits += 1;
        } <span class="org-keyword">else</span> {
            <span class="org-comment-delimiter">// </span><span class="org-comment">Frames are still empty</span>
            <span class="org-keyword">if</span> (full == 0) {
                index = (index + 1) % n;
                frames[index] = symbol;
                page_miss += 1;
                printf(<span class="org-string">"\nSymbol: %d  Frame: "</span>, symbol);
                <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">j</span> = 0; j &lt; n; j++)
                    printf(<span class="org-string">"%d "</span>, frames[j]);
            } <span class="org-keyword">else</span> {
                <span class="org-comment-delimiter">// </span><span class="org-comment">First find the index to replace with</span>
                <span class="org-type">int</span> <span class="org-variable-name">pos</span> = 999;
                <span class="org-type">int</span> <span class="org-variable-name">index</span> = -1;

                <span class="org-comment-delimiter">// </span><span class="org-comment">Traversing each symbol and checking their lru possibility</span>
                <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">j</span> = 0; j &lt; n; j++) {
                    <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">k</span> = 0; k &lt; size; k++) {
                        <span class="org-keyword">if</span> (frames[j] == string[k]) {
                            <span class="org-keyword">if</span> (pos &gt; k) {
                                pos = k;
                                index = j;
                                <span class="org-keyword">break</span>;
                            }
                        }
                    }
                }

                <span class="org-comment-delimiter">// </span><span class="org-comment">Now assign symbol in lru position</span>
                frames[index] = symbol;
            }
        }
    }
    printf(<span class="org-string">"\nPage hits: %d"</span>, page_hits);
    printf(<span class="org-string">"\nPage misses: %d"</span>, page_miss);
}

<span class="org-type">int</span> <span class="org-function-name">main</span>(<span class="org-type">void</span>) {
    <span class="org-type">int</span> <span class="org-variable-name">string</span>[] = {7, 0, 1, 2, 0, 3, 0, 4, 2, 3, 0, 3, 2};
    <span class="org-type">int</span> <span class="org-variable-name">no_frames</span> = 4;
    <span class="org-type">int</span> <span class="org-variable-name">size</span> = <span class="org-keyword">sizeof</span>(string) / <span class="org-keyword">sizeof</span>(<span class="org-type">int</span>);
    lru(string, no_frames, size);
    <span class="org-keyword">return</span> 0;
}
</pre>
</div>

<pre class="example" id="org44a5d12">

Symbol: 7  Frame: 7 -1 -1 -1 
Symbol: 0  Frame: 7 0 -1 -1 
Symbol: 1  Frame: 7 0 1 -1 
Symbol: 2  Frame: 7 0 1 2 
Symbol: 0  Frame: 7 0 1 2 
Symbol: 3  Frame: 3 0 1 2 
Symbol: 0  Frame: 3 0 1 2 
Symbol: 4  Frame: 3 4 1 2 
Symbol: 2  Frame: 3 4 1 2 
Symbol: 3  Frame: 3 4 1 2 
Symbol: 0  Frame: 3 4 0 2 
Symbol: 3  Frame: 3 4 0 2 
Symbol: 2  Frame: 3 4 0 2 
Page hits: 6
Page misses: 7
</pre></li>
</ol>
</div>
</body>
</html>